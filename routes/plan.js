const _0x31e15f = _0x1fbf; (function (_0x21dd90, _0xffc0ed) { const _0x28deb7 = _0x1fbf, _0x5efbf9 = _0x21dd90(); while (!![]) { try { const _0x3feb8e = -parseInt(_0x28deb7(0x140)) / 0x1 + -parseInt(_0x28deb7(0x133)) / 0x2 * (parseInt(_0x28deb7(0x148)) / 0x3) + -parseInt(_0x28deb7(0x142)) / 0x4 + -parseInt(_0x28deb7(0x136)) / 0x5 + -parseInt(_0x28deb7(0x139)) / 0x6 + -parseInt(_0x28deb7(0x14a)) / 0x7 + parseInt(_0x28deb7(0x131)) / 0x8; if (_0x3feb8e === _0xffc0ed) break; else _0x5efbf9['push'](_0x5efbf9['shift']()); } catch (_0x11cd3d) { _0x5efbf9['push'](_0x5efbf9['shift']()); } } }(_0x4599, 0xea8ac)); function _0x1fbf(_0x3ec61f, _0x548e29) { const _0x45991b = _0x4599(); return _0x1fbf = function (_0x1fbf66, _0x5ae0e6) { _0x1fbf66 = _0x1fbf66 - 0x123; let _0xf6c133 = _0x45991b[_0x1fbf66]; return _0xf6c133; }, _0x1fbf(_0x3ec61f, _0x548e29); } function _0x4599() { const _0x69918b = ['2nUvCZO', 'Plan\x20has\x20been\x20added', 'express', '1383255ymfWlR', '\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20)\x20', '../config/promisemysql', '3106806YTyggK', 'description', '../config/config', 'randomstring', 'query', 'json', 'Please\x20send\x20all\x20required\x20fields', '1426254UzTUtf', 'mysql-import', '5417972PhIrIh', 'Server\x20error', 'jsonwebtoken', 'dall_e', 'log', 'support_included', '2877063ozVSJw', '/get_all', '5975809YQJpBV', 'mysqldump', 'bot_power', 'post', 'Router', '/add_plan', 'name', 'whatsapp_bot', 'word_limit', 'path', 'DELETE\x20FROM\x20plan\x20WHERE\x20id\x20=\x20\x27', 'body', 'dall_e_limit', '/del', 'dall_e_size', '50788728usmjbG', '\x27,\x20\x27']; _0x4599 = function () { return _0x69918b; }; return _0x4599(); } const router = require(_0x31e15f(0x135))[_0x31e15f(0x126)](), con = require(_0x31e15f(0x13b)), { sign } = require(_0x31e15f(0x144)), bcrypt = require('bcrypt'), randomstring = require(_0x31e15f(0x13c)), moment = require('moment'), { isvalid, isvaliddownload } = require('../middlewares/user'), mysqlDump = require(_0x31e15f(0x123)), Importer = require(_0x31e15f(0x141)), path = require(_0x31e15f(0x12b)), fs = require('fs'), promisemysql = require(_0x31e15f(0x138)); router[_0x31e15f(0x125)](_0x31e15f(0x127), isvalid, async (_0x481748, _0x3b955b) => { const _0x2acf28 = _0x31e15f; try { const _0x150060 = _0x481748[_0x2acf28(0x12d)][_0x2acf28(0x128)], _0x1106e4 = _0x481748[_0x2acf28(0x12d)][_0x2acf28(0x13a)], _0x5c0ebd = parseInt(_0x481748[_0x2acf28(0x12d)]['cost']), _0x39f864 = parseInt(_0x481748[_0x2acf28(0x12d)][_0x2acf28(0x12a)]), _0x36d629 = _0x481748[_0x2acf28(0x12d)][_0x2acf28(0x145)] ? 0x1 : 0x0, _0x186feb = parseInt(_0x481748[_0x2acf28(0x12d)][_0x2acf28(0x12e)]), _0x1fb4ef = _0x481748[_0x2acf28(0x12d)][_0x2acf28(0x130)], _0x4e3ba2 = _0x481748[_0x2acf28(0x12d)][_0x2acf28(0x147)] ? 0x1 : 0x0, _0x30ae76 = _0x481748[_0x2acf28(0x12d)][_0x2acf28(0x129)] ? 0x1 : 0x0, _0x2cdba4 = _0x481748['body'][_0x2acf28(0x124)]; if (!_0x150060 || !_0x1106e4 || _0x5c0ebd < 0x0 || !_0x39f864) return _0x3b955b['json']({ 'msg': _0x2acf28(0x13f) }); const _0x2ad372 = await promisemysql['query']('INSERT\x20INTO\x20plan\x20(name,\x20description,\x20cost,\x20bot_power,\x20word_limit,\x20\x20dall_e,\x20dall_e_limit,\x20dall_e_size,\x20whatsapp_bot,\x20support_included)\x20VALUES\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27' + _0x150060 + _0x2acf28(0x132) + _0x1106e4 + '\x27,\x20\x27' + _0x5c0ebd + '\x27,\x20\x27' + _0x2cdba4 + _0x2acf28(0x132) + _0x39f864 + '\x27,\x20\x20\x27' + _0x36d629 + _0x2acf28(0x132) + _0x186feb + _0x2acf28(0x132) + _0x1fb4ef + '\x27,\x20\x27' + _0x30ae76 + _0x2acf28(0x132) + _0x4e3ba2 + _0x2acf28(0x137)); console[_0x2acf28(0x146)](_0x2ad372), _0x3b955b[_0x2acf28(0x13e)]({ 'msg': _0x2acf28(0x134), 'success': !![] }); } catch (_0x39f743) { console[_0x2acf28(0x146)](_0x39f743), _0x3b955b[_0x2acf28(0x13e)]({ 'msg': _0x2acf28(0x143), 'err': _0x39f743 }); } }), router['get'](_0x31e15f(0x149), async (_0x3f0b85, _0x2f9a58) => { const _0x4b1d7d = _0x31e15f; try { const _0x727271 = await promisemysql[_0x4b1d7d(0x13d)]('SELECT\x20*\x20FROM\x20plan'); _0x2f9a58[_0x4b1d7d(0x13e)]({ 'success': !![], 'data': _0x727271 }); } catch (_0x19d2e5) { console[_0x4b1d7d(0x146)](_0x19d2e5), _0x2f9a58[_0x4b1d7d(0x13e)]({ 'msg': _0x4b1d7d(0x143), 'err': _0x19d2e5 }); } }), router[_0x31e15f(0x125)](_0x31e15f(0x12f), isvalid, async (_0x86d895, _0x374406) => { const _0x4791f9 = _0x31e15f; try { const _0x222eba = await promisemysql[_0x4791f9(0x13d)](_0x4791f9(0x12c) + _0x86d895[_0x4791f9(0x12d)]['id'] + '\x27\x20'); _0x374406[_0x4791f9(0x13e)]({ 'success': !![], 'msg': 'Plan\x20was\x20deleted' }); } catch (_0x523569) { console['log'](_0x523569), _0x374406[_0x4791f9(0x13e)]({ 'msg': _0x4791f9(0x143), 'err': _0x523569 }); } }), module['exports'] = router;